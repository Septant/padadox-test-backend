"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[911],{9911:(xn,L,s)=>{s.r(L),s.d(L,{NotesModule:()=>Tn});var u=s(6814),t=s(5879),g=s(7398),C=s(4664),bt=s(3997),Tt=s(9773),xt=s(7921),Ot=s(5592),Mt=s(3020),yt=s(229);const Pt=new t.OlP("Root element for IntersectionObserver"),H=new t.OlP("rootMargin for IntersectionObserver",{providedIn:"root",factory:()=>"0px 0px 0px 0px"}),G=new t.OlP("threshold for IntersectionObserver",{providedIn:"root",factory:()=>0});typeof IntersectionObserver<"u"&&IntersectionObserver;const It=new t.OlP("Intersection Observer API support",{providedIn:"root",factory:()=>!!(0,t.f3M)(yt.m9).IntersectionObserver});let z=(()=>{class n extends Ot.y{constructor({nativeElement:e},o,r,a,c){return super(l=>{if(!o)return void l.error("IntersectionObserver is not supported in your browser");const p=new IntersectionObserver(F=>{l.next(F)},{root:c?.nativeElement,rootMargin:r,threshold:a});return p.observe(e),()=>{p.disconnect()}}),this.pipe((0,Mt.B)())}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.SBq),t.LFG(It),t.LFG(H),t.LFG(G),t.LFG(Pt,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var W=s(2521),M=s(8937),N=s(2461),b=s(5213),wt=s(7122),Dt=s(1800),K=s(345),S=s(6141),f=s(7415),v=s(9250),kt=s(7241),E=s(1379),y=s(4862);s(1260);const B=(0,M.JN)({icons:{up:"tuiIconPlus",down:"tuiIconMinus"},appearance:"textfield",hideButtons:!1,min:0,max:Number.MAX_SAFE_INTEGER,step:1,postfix:""});var X=s(5863),Ft=s(7616),_=s(2549);function zt(n,i){1&n&&t._UZ(0,"tui-svg",2),2&n&&t.Q6J("src",i.polymorpheusOutlet)}function Nt(n,i){1&n&&t.GkF(0)}const R=(0,M.JN)({iconSmall:"tuiIconChevronDown",iconLarge:"tuiIconChevronDownLarge"}),et=new _.Al((()=>{class n{constructor(e,o,r){this.dropdown=e,this.textfieldSize=o,this.options=r}get rotated(){return this.dropdown.open}get arrowIcon(){return(0,X.R9)(this.textfieldSize.size)?this.options.iconLarge:this.options.iconSmall}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ft.o1),t.Y36(v.kI),t.Y36(R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tui-arrow"]],hostVars:2,hostBindings:function(e,o){2&e&&t.ekj("_rotated",o.rotated)},decls:3,vars:4,consts:[[3,"src",4,"polymorpheusOutlet"],[4,"ngIf"],[3,"src"]],template:function(e,o){1&e&&(t.YNc(0,zt,1,1,"tui-svg",0),t.YNc(1,Nt,1,0,"ng-container",1),t.ALo(2,"async")),2&e&&(t.Q6J("polymorpheusOutlet",o.arrowIcon),t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,o.dropdown.openChange)))},dependencies:[f.PN,_.Li,u.O5,u.Ov],styles:["[_nghost-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;cursor:pointer;pointer-events:none}._rotated[_nghost-%COMP%]{transform:rotate(180deg)}"],changeDetection:0}),n})());(0,M.JN)({interactive:et,disabled:et});var Bt=s(7328),ot=s(7582),d=s(95);const Rt=["tuiTh",""];function Zt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.updateSorterAndDirection())}),t.GkF(1,4),t._uU(2),t.ALo(3,"async"),t._UZ(4,"tui-svg",5),t.qZA()}if(2&n){const e=t.oxw(),o=t.MAs(2);t.ekj("t-sort_sorted",e.isCurrent),t.xp6(1),t.Q6J("ngTemplateOutlet",o),t.xp6(1),t.hij(" ",t.lcZ(3,5,e.table.change$)," "),t.xp6(2),t.Q6J("src",e.icon)}}function Qt(n,i){1&n&&t.Hsn(0)}function Ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",6),t.NdJ("tuiResized",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.onResized(r))}),t.qZA()}}const D=["*"],Jt=["tuiTd",""],Yt=["tuiTr",""];function $t(n,i){if(1&n&&(t.TgZ(0,"td",5),t._uU(1),t.qZA()),2&n){const e=i.ngIf,o=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e[o]," ")}}function Lt(n,i){if(1&n&&(t.YNc(0,$t,2,1,"td",4),t.ALo(1,"async")),2&n){const e=t.oxw(3);t.Q6J("ngIf",t.lcZ(1,1,e.item$))}}function jt(n,i){if(1&n&&(t.ynx(0,2),t.YNc(1,Lt,2,3,"ng-template",null,3,t.W1O),t.BQk()),2&n){const e=i.$implicit,o=t.MAs(2),r=t.oxw().ngIf;t.Q6J("ngTemplateOutlet",(null==r[e]?null:r[e].template)||o)}}function Ht(n,i){if(1&n&&(t.ynx(0),t.YNc(1,jt,3,1,"ng-container",1),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.table.columns)}}const Vt=["tuiTbody",""];function Gt(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=i.polymorpheusOutlet;t.xp6(1),t.hij(" ",e," ")}}function Wt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"th",1)(2,"button",2),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onClick())}),t.TgZ(3,"span",3),t.YNc(4,Gt,2,1,"ng-container",4),t.qZA(),t._UZ(5,"tui-svg",5),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("colSpan",e.table.columns.length),t.xp6(3),t.Q6J("polymorpheusOutlet",e.heading),t.xp6(1),t.ekj("t-chevron_rotated",e.open),t.Q6J("src",e.arrowOptions.iconLarge)}}function Kt(n,i){1&n&&(t.ynx(0),t.Hsn(1),t.BQk())}function qt(n,i){if(1&n&&(t.GkF(0,7),t.ALo(1,"tuiMapper")),2&n){const e=i.$implicit,o=i.index,r=t.oxw(2);t.Q6J("ngTemplateOutlet",r.row.template)("ngTemplateOutletContext",t.Dn7(1,2,e,r.toContext,o))}}function Xt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,qt,2,6,"ng-container",6),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.sorted)}}const te=["tuiThGroup",""];function ee(n,i){if(1&n&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.toString()," ")}}function ne(n,i){if(1&n&&t.YNc(0,ee,2,1,"th",4),2&n){const e=t.oxw(3);t.Q6J("ngIf",!e.th&&!e.heads.length)}}function oe(n,i){if(1&n&&(t.ynx(0,2),t.YNc(1,ne,1,1,"ng-template",null,3,t.W1O),t.BQk()),2&n){const e=i.$implicit,o=t.MAs(2),r=t.oxw().ngIf;t.Q6J("ngTemplateOutlet",(null==r[e.toString()]?null:r[e.toString()].template)||o)}}function ie(n,i){if(1&n&&(t.ynx(0),t.YNc(1,oe,3,1,"ng-container",1),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.table.columns)}}let it=(()=>{class n{constructor(e){this.template=e,this.tuiCell=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["ng-template","tuiCell",""]],inputs:{tuiCell:"tuiCell"}}),n})();const rt=new t.OlP("[TUI_STUCK]"),re={provide:rt,deps:[t.SBq,z],useFactory:({nativeElement:n},i)=>{const e=i.pipe((0,g.U)(([{intersectionRatio:o}])=>o<1));return n["$.class._stuck"]=e,e}},ae=[{provide:H,useValue:"10000px 10000px 10000px 0px"},{provide:G,useValue:[0,1]},{provide:v.x_,useFactory:()=>{const n=new v.qc;return n.appearance=kt.Nm.Table,n}},{provide:v.rW,useValue:{labelOutside:!0}},{provide:B,deps:[[new t.tp0,B]],useFactory:n=>Object.assign(Object.assign({},n),{hideButtons:!0})},{provide:v.kI,useExisting:(0,t.Gpc)(()=>h)},z,E.CV,re],k=(0,M.JN)({sticky:!1,resizable:!1,open:!0,size:"m",direction:1,sortIcons:{asc:"tuiIconSortAscending",desc:"tuiIconSortDescending",off:"tuiIconSortOff"}});let h=(()=>{class n extends N.QJ{constructor(e,o,r,a,c){super(),this.entries$=e,this.mode$=o,this.stuck$=r,this.options=a,this.cdr=c,this.columns=[],this.size=this.options.size,this.direction=this.options.direction,this.directionChange=new t.vpe,this.sorterChange=new t.vpe,this.sorter=()=>0}updateSorterAndDirection(e){this.sorter===e?this.updateDirection(1===this.direction?-1:1):(this.updateSorter(e),this.updateDirection(1))}ngAfterViewInit(){this.cdr.detectChanges()}updateSorter(e){this.sorter=e||(()=>0),this.sorterChange.emit(this.sorter),this.change$.next()}updateDirection(e){this.direction=e,this.directionChange.emit(this.direction),this.change$.next()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z),t.Y36(y.Au),t.Y36(rt),t.Y36(k),t.Y36(t.sBO))},n.\u0275dir=t.lG2({type:n,selectors:[["table","tuiTable",""]],hostAttrs:[2,"border-collapse","separate"],hostVars:1,hostBindings:function(e,o){1&e&&t.NdJ("$.data-mode.attr",function(){return o.mode$})("$.class._stuck",function(){return o.stuck$}),2&e&&t.uIk("data-size",o.size)},inputs:{columns:"columns",size:"size",direction:"direction",sorter:"sorter"},outputs:{directionChange:"directionChange",sorterChange:"sorterChange"},features:[t._Bn(ae),t.qOj]}),n})(),st=(()=>{class n{constructor(e){this.template=e,this.tuiHead=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","tuiHead",""]],inputs:{tuiHead:"tuiHead"}}),n})(),se=(()=>{class n{constructor(e,o,r){this.doc=e,this.el=o,this.parentRef=r,this.tuiResized=(0,b.mL)(this.el.nativeElement,"mousedown").pipe((0,b.mp)(),(0,C.w)(()=>{const{width:a,right:c}=this.parentRef.nativeElement.getBoundingClientRect();return(0,b.mL)(this.doc,"mousemove").pipe((0,bt.x)(),(0,g.U)(({clientX:l})=>a+l-c),(0,Tt.R)((0,b.mL)(this.doc,"mouseup")))}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.K0),t.Y36(t.SBq),t.Y36(y.zP))},n.\u0275dir=t.lG2({type:n,selectors:[["","tuiResized",""]],outputs:{tuiResized:"tuiResized"}}),n})(),ce=(()=>{class n{constructor(e){this.template=e,this.tuiRowOf=[]}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["ng-template","tuiRow",""]],inputs:{tuiRowOf:"tuiRowOf"}}),n})(),Z=(()=>{class n{constructor(e,o,r){this.options=e,this.head=o,this.table=r,this.sorter=this.head?(a,c)=>(0,M.A2)(a[this.key],c[this.key]):null,this.resizable=this.options.resizable,this.sticky=this.options.sticky,this.width=null}get key(){if(!this.head)throw new wt.m2;return this.head.tuiHead}get isCurrent(){return!!this.sorter&&!!this.table&&this.sorter===this.table.sorter}get icon(){var e;return this.isCurrent?1===(null===(e=this.table)||void 0===e?void 0:e.direction)?this.options.sortIcons.desc:this.options.sortIcons.asc:this.options.sortIcons.off}updateSorterAndDirection(){var e;null===(e=this.table)||void 0===e||e.updateSorterAndDirection(this.isCurrentAndAscDirection?null:this.sorter)}onResized(e){this.width=e}get isCurrentAndAscDirection(){var e,o;return this.sorter===(null===(e=this.table)||void 0===e?void 0:e.sorter)&&-1===(null===(o=this.table)||void 0===o?void 0:o.direction)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(k),t.Y36(st,8),t.Y36((0,t.Gpc)(()=>h),8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["th","tuiTh",""]],hostVars:4,hostBindings:function(e,o){2&e&&(t.Udp("width",o.width,"px"),t.ekj("_sticky",o.sticky))},inputs:{sorter:"sorter",resizable:"resizable",sticky:"sticky"},features:[t._Bn([{provide:y.zP,useExisting:t.SBq}])],attrs:Rt,ngContentSelectors:D,decls:4,vars:3,consts:[["type","button","class","t-sort",3,"t-sort_sorted","click",4,"ngIf","ngIfElse"],["content",""],["class","t-bar",3,"tuiResized",4,"ngIf"],["type","button",1,"t-sort",3,"click"],[3,"ngTemplateOutlet"],[1,"t-sort-icon",3,"src"],[1,"t-bar",3,"tuiResized"]],template:function(e,o){if(1&e&&(t.F$t(),t.YNc(0,Zt,5,7,"button",0),t.YNc(1,Qt,1,0,"ng-template",null,1,t.W1O),t.YNc(3,Ut,1,0,"div",2)),2&e){const r=t.MAs(2);t.Q6J("ngIf",o.sorter&&o.table)("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",o.resizable)}},dependencies:[f.PN,u.O5,u.tP,se,u.Ov],styles:['[_nghost-%COMP%]{transition-property:box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;top:0;height:var(--tui-height-m);font:var(--tui-font-text-s);text-align:left;font-weight:bold;color:var(--tui-text-02);background:var(--tui-base-01);cursor:default;padding:0 .75rem;box-sizing:border-box;box-shadow:0 .3125rem #ededed00;border:1px solid var(--tui-base-04);filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translate(0)}}[_nghost-%COMP%]:not(:first-child){border-left:none}._sticky[_nghost-%COMP%], ._stuck   ._sticky[_nghost-%COMP%]{position:-webkit-sticky;position:sticky;z-index:30}._sticky[_nghost-%COMP%]:first-child, ._stuck   ._sticky[_nghost-%COMP%]:first-child{left:0}._sticky[_nghost-%COMP%]:after, ._stuck   ._sticky[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;left:100%;bottom:0;width:.3125rem;pointer-events:none;background:rgba(237,237,237,.7);opacity:0}._stuck   [_nghost-%COMP%]{z-index:20}tr:not(:first-child)[_nghost-%COMP%], tr:not(:first-child)   [_nghost-%COMP%]{border-top:none}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{height:var(--tui-height-l);font:var(--tui-font-text-m);font-weight:bold;padding:0 1rem}thead[tuiThead][_nghost-%COMP%], thead[tuiThead]   [_nghost-%COMP%]{position:-webkit-sticky;position:sticky}table._stuck._sticky[_nghost-%COMP%]:after, table._stuck   ._sticky[_nghost-%COMP%]:after{opacity:1}thead[tuiThead]._stuck[_nghost-%COMP%], thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #edededb3}table[data-mode="onDark"][_nghost-%COMP%]:after, table[data-mode="onDark"]   [_nghost-%COMP%]:after{background:rgba(60,60,60,.9)}table[data-mode="onDark"]   thead[tuiThead]._stuck[_nghost-%COMP%], table[data-mode="onDark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]{box-shadow:0 .3125rem #3c3c3ce6}table[data-mode="onDark"]   thead[tuiThead]._stuck[_nghost-%COMP%]:first-child, table[data-mode="onDark"]   thead[tuiThead]._stuck   [_nghost-%COMP%]:first-child{box-shadow:.0625rem .3125rem #3c3c3ce6}table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="l"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-l)}table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="m"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-m)}table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)[_nghost-%COMP%], table[data-size="s"]   thead[tuiThead]   tr:nth-child(2)   [_nghost-%COMP%]{top:var(--tui-height-s)}.t-sort[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;display:inline-flex;flex-direction:inherit;align-items:center;outline:none;font-weight:bold;cursor:pointer}.t-sort_sorted[_ngcontent-%COMP%]{color:var(--tui-text-01)}.t-sort[_ngcontent-%COMP%]:focus-visible{background:var(--tui-selection)}.t-sort[_ngcontent-%COMP%]:hover{color:var(--tui-text-01)}.t-bar[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;bottom:0;right:-1px;width:3px;justify-self:flex-end;border-left:2px solid transparent;background:var(--tui-support-12);background-clip:content-box;cursor:ew-resize;opacity:0}.t-bar[_ngcontent-%COMP%]:hover, .t-bar[_ngcontent-%COMP%]:active{opacity:1}'],changeDetection:0}),n})(),ct=(()=>{class n{constructor(e){this.table=e}transform(e){return this.sort(e,this.table.sorter,this.table.direction)}sort(e,o,r){return[...e].sort((a,c)=>r*o(a,c))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h,16))},n.\u0275pipe=t.Yjl({name:"tuiTableSort",type:n,pure:!1}),(0,ot.gn)([Dt.UM],n.prototype,"sort",null),n})();const Q=[K.a3,ct,{provide:h,deps:[[new t.tp0,h],t.sBO,K.a3],useFactory:E.wD}];let ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["th","tuiTd",""],["td","tuiTd",""]],contentQueries:function(e,o,r){if(1&e&&t.Suo(r,d.a5,5),2&e){let a;t.iGM(a=t.CRH())&&(o.control=a.first)}},hostVars:2,hostBindings:function(e,o){2&e&&t.ekj("_editable",o.control)},attrs:Jt,ngContentSelectors:D,decls:1,vars:0,template:function(e,o){1&e&&(t.F$t(),t.Hsn(0))},styles:['[_nghost-%COMP%]{position:relative;height:var(--tui-height-m);font:var(--tui-font-text-s);text-align:left;padding:0 .75rem;background:var(--tui-base-01);border:1px solid var(--tui-base-04);border-top:none;box-sizing:border-box;filter:opacity(1)}@supports (-webkit-hyphens: none){[_nghost-%COMP%]{transform:translate(0)}}[_nghost-%COMP%]:first-child{left:0}[_nghost-%COMP%]:not(:first-child){border-left:none}._editable[_nghost-%COMP%]:focus-within{z-index:1}._editable[_nghost-%COMP%]{padding:0;vertical-align:top}th[_nghost-%COMP%]{position:-webkit-sticky;position:sticky;z-index:1}th[_nghost-%COMP%]:after{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";position:absolute;top:0;bottom:0;left:100%;width:.3125rem;pointer-events:none;background:rgba(237,237,237,.7);opacity:0}th[_nghost-%COMP%]:focus-within:not(:disabled){z-index:11}table[data-mode="onDark"][_nghost-%COMP%]:after, table[data-mode="onDark"]   [_nghost-%COMP%]:after{background:rgba(60,60,60,.9)}table._stuck[_nghost-%COMP%], table._stuck   [_nghost-%COMP%]{z-index:10}table._stuck[_nghost-%COMP%]:last-of-type:after, table._stuck   [_nghost-%COMP%]:last-of-type:after{opacity:1}table[data-size="l"][_nghost-%COMP%], table[data-size="l"]   [_nghost-%COMP%]{font:var(--tui-font-text-m);height:var(--tui-height-l);padding-left:1rem;padding-right:1rem}table[data-size="l"]._editable[_nghost-%COMP%], table[data-size="l"]   ._editable[_nghost-%COMP%]{padding:0}td[_nghost-%COMP%]:focus-within{z-index:1}td[_nghost-%COMP%]:not(:focus-within){z-index:0}'],changeDetection:0}),n})(),lt=(()=>{class n{constructor(e,o){this.table=e,this.body=o,this.cells=S.Mm,this.contentReady$=new Bt.t(1),this.cells$=this.contentReady$.pipe((0,C.w)(()=>(0,b.ll)(this.cells)),(0,g.U)(r=>r.reduce((a,c)=>Object.assign(Object.assign({},a),{[c.tuiCell]:c}),{}))),this.item$=this.contentReady$.pipe((0,C.w)(()=>(0,b.ll)(this.body.rows)),(0,g.U)(r=>this.body.sorted[r.findIndex(a=>a===this)]))}ngAfterContentInit(){return(0,ot.mG)(this,void 0,void 0,function*(){yield Promise.resolve(),this.contentReady$.next(!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36((0,t.Gpc)(()=>h)),t.Y36((0,t.Gpc)(()=>dt)))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tr","tuiTr",""]],contentQueries:function(e,o,r){if(1&e&&t.Suo(r,it,4),2&e){let a;t.iGM(a=t.CRH())&&(o.cells=a)}},features:[t._Bn([Q])],attrs:Yt,decls:2,vars:3,consts:[[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["plain",""],["tuiTd","",4,"ngIf"],["tuiTd",""]],template:function(e,o){1&e&&(t.YNc(0,Ht,2,1,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,o.cells$))},dependencies:[ut,u.O5,u.sg,u.tP,u.Ov],encapsulation:2,changeDetection:0}),n})(),dt=(()=>{class n{constructor(e,o,r,a){this.pipe=e,this.options=o,this.arrowOptions=r,this.table=a,this.data=[],this.open=this.options.open,this.openChange=new t.vpe,this.rows=S.Mm,this.toContext=(c,l)=>({$implicit:c,index:l})}get sorted(){return this.pipe.transform(this.data)}onClick(){this.open=!this.open,this.openChange.emit(this.open)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ct),t.Y36(k),t.Y36(R),t.Y36((0,t.Gpc)(()=>h)))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tbody","tuiTbody",""]],contentQueries:function(e,o,r){if(1&e&&(t.Suo(r,ce,5),t.Suo(r,lt,4)),2&e){let a;t.iGM(a=t.CRH())&&(o.row=a.first),t.iGM(a=t.CRH())&&(o.rows=a)}},inputs:{data:"data",heading:"heading",open:"open"},outputs:{openChange:"openChange"},features:[t._Bn(Q)],attrs:Vt,ngContentSelectors:D,decls:3,vars:3,consts:[[4,"ngIf"],[1,"t-heading",3,"colSpan"],["type","button",1,"t-expand",3,"click"],[1,"t-name"],[4,"polymorpheusOutlet"],[1,"t-chevron",3,"src"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){1&e&&(t.F$t(),t.YNc(0,Wt,6,5,"tr",0),t.YNc(1,Kt,2,0,"ng-container",0),t.YNc(2,Xt,2,1,"ng-container",0)),2&e&&(t.Q6J("ngIf",o.heading),t.xp6(1),t.Q6J("ngIf",o.open),t.xp6(1),t.Q6J("ngIf",o.open&&o.row))},dependencies:[f.PN,u.O5,_.Li,u.sg,u.tP,W.c],styles:['[_nghost-%COMP%]{border-color:var(--tui-base-04)}[_nghost-%COMP%]   tr[_ngcontent-%COMP%]{border-color:inherit}.t-expand[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;display:flex;width:100%;height:100%;align-items:center;box-sizing:border-box;outline:none;font-weight:bold;cursor:pointer;border-color:inherit}.t-expand[_ngcontent-%COMP%]:focus-visible   .t-name[_ngcontent-%COMP%]{background:var(--tui-selection)}.t-expand[_ngcontent-%COMP%]:before, .t-expand[_ngcontent-%COMP%]:after{content:"";position:-webkit-sticky;position:sticky;height:100%;border-left:1px solid;border-color:inherit}.t-expand[_ngcontent-%COMP%]:before{left:0}.t-expand[_ngcontent-%COMP%]:after{right:0}.t-heading[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;height:var(--tui-height-m);font:var(--tui-font-text-s);padding:0;background:var(--tui-base-02);border-bottom:1px solid var(--tui-base-04);border-color:inherit}.t-heading[_ngcontent-%COMP%]:hover{background:var(--tui-base-03)}table[data-size="l"][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-m);height:var(--tui-height-l)}.t-name[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;left:.75rem;display:inline-block}table[data-size="l"][_nghost-%COMP%]   .t-name[_ngcontent-%COMP%], table[data-size="l"]   [_nghost-%COMP%]   .t-name[_ngcontent-%COMP%]{left:1rem}.t-chevron[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:-webkit-sticky;position:sticky;right:.75rem;margin:0 .6875rem 0 auto}.t-chevron_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}'],changeDetection:0}),n})(),ue=(()=>{class n{constructor(e){this.table=e,this.heads=S.Mm,this.heads$=null}ngAfterContentInit(){this.heads$=this.heads.changes.pipe((0,xt.O)(null),(0,g.U)(()=>this.heads.reduce((e,o)=>Object.assign(Object.assign({},e),{[o.tuiHead]:o}),{})))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36((0,t.Gpc)(()=>h)))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tr","tuiThGroup",""]],contentQueries:function(e,o,r){if(1&e&&(t.Suo(r,Z,5),t.Suo(r,st,4)),2&e){let a;t.iGM(a=t.CRH())&&(o.th=a.first),t.iGM(a=t.CRH())&&(o.heads=a)}},features:[t._Bn([Q])],attrs:te,ngContentSelectors:D,decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["plain",""],["tuiTh","",4,"ngIf"],["tuiTh",""]],template:function(e,o){1&e&&(t.F$t(),t.Hsn(0),t.YNc(1,ie,2,1,"ng-container",0),t.ALo(2,"async")),2&e&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,o.heads$)))},dependencies:[Z,u.O5,u.sg,u.tP,u.Ov],encapsulation:2,changeDetection:0}),n})(),le=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,_.wq,W.I,f.EI]]}),n})();var P=s(631),A=s(1584),m=s(6724),I=s(1993),de=s(5619),pt=s(2096),gt=s(9397),U=s(5237),pe=s(553),ge=s(7579);let he=(()=>{class n{constructor(e){this.http=e,this.apiPath=pe.b+U.a.NOTES}getNotes(){return this.http.GET(this.apiPath+U.g.ALL).pipe((0,g.U)(e=>e||[]))}getNote(e){return this.http.GET(this.apiPath+e)}postNote(e){return this.http.POST(this.apiPath+U.g.CREATE,e)}deleteNote(e){return this.http.DELETE(this.apiPath+e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(ge.O))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T=(()=>{class n{constructor(e){this.notesApi=e,this.notes$=new de.X([])}postNote(e){return this.notesApi.postNote(e)}getNotes(){return this.notesApi.getNotes().pipe((0,C.w)(e=>(e.length&&this.notes$.next(e),(0,pt.of)({subject:this.notes$}))))}getNote(e){return this.notesApi.getNote(e).pipe((0,gt.b)(o=>{if(o){const r=this.notes$.value.findIndex(a=>o.id===a.id);r>0?this.notes$.value[r]=o:this.notes$.value.push(o),this.notes$.next(this.notes$.value)}}))}deleteNote(e,o){return this.notesApi.deleteNote(e).pipe((0,gt.b)(r=>{if(r){const a=this.notes$.value;a.splice(o,1),this.notes$.next(a)}}))}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(he))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w=s(3413);function _e(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"th",8),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("resizable",!0),t.xp6(1),t.hij(" ",e," ")}}function me(n,i){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.title)}}function fe(n,i){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.id)}}function ve(n,i){if(1&n&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.notifyTime)}}function Ce(n,i){1&n&&t._UZ(0,"tui-tag",16),2&n&&t.Q6J("value",i.$implicit.value)}function be(n,i){if(1&n&&(t.TgZ(0,"td",14),t.YNc(1,Ce,1,1,"tui-tag",15),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.tags)}}function Te(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",17)(1,"button",18),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.redactNote(r.id))}),t.qZA(),t.TgZ(2,"button",19),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),a=r.$implicit,c=r.index,l=t.oxw(2);return t.KtG(l.deleteNote(a.id,c))}),t.qZA()()}}function xe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",11),t.NdJ("dblclick",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openNote(a.id))}),t.YNc(1,me,2,1,"td",12),t.YNc(2,fe,2,1,"td",12),t.YNc(3,ve,2,1,"td",12),t.YNc(4,be,2,1,"td",12),t.YNc(5,Te,3,0,"td",13),t.qZA()}2&n&&(t.xp6(1),t.Q6J("tuiCell","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.xp6(1),t.Q6J("tuiCell","\u2116"),t.xp6(1),t.Q6J("tuiCell","\u0414\u0430\u0442\u0430 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f"),t.xp6(1),t.Q6J("tuiCell","\u0422\u0435\u0433\u0438"),t.xp6(1),t.Q6J("tuiCell","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))}function Oe(n,i){if(1&n&&(t.TgZ(0,"tbody",9),t.YNc(1,xe,6,5,"tr",10),t.qZA()),2&n){const e=i.ngIf;t.Q6J("data",e),t.xp6(1),t.Q6J("ngForOf",e)}}let Me=(()=>{class n{constructor(e,o,r){this.router=e,this.route=o,this.notesManager=r,this.columns=["\u2116","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0414\u0430\u0442\u0430 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f","\u0422\u0435\u0433\u0438","\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"],this.destroyRef=(0,t.f3M)(t.ktI),this.notes$=this.route.data.pipe((0,I.sL)(this.destroyRef)).pipe((0,g.U)(({data:a})=>a),(0,C.w)(a=>a.subject))}ngOnInit(){}createNote(){this.router.navigate(["redactor"],{queryParams:{new:!0},relativeTo:this.route})}openNote(e){this.router.navigate(["note",e],{relativeTo:this.route})}redactNote(e){this.router.navigate(["redactor"],{relativeTo:this.route,queryParams:{id:e}})}deleteNote(e,o){this.notesManager.deleteNote(e,o).pipe((0,I.sL)(this.destroyRef)).subscribe()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(T))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-notes"]],decls:12,vars:6,consts:[[1,"notes-container"],[1,"top-container"],["tuiButton","",1,"create-note-button",3,"size","click"],["tuiTable","",1,"notes-table",3,"columns"],[1,"table-head"],["tuiThGroup",""],[4,"ngFor","ngForOf"],["tuiTbody","",3,"data",4,"ngIf"],["tuiTh","",3,"resizable"],["tuiTbody","",3,"data"],["tuiTr","",3,"dblclick",4,"ngFor","ngForOf"],["tuiTr","",3,"dblclick"],["tuiTd","",4,"tuiCell"],["tuiTd","","class","action-buttons-row",4,"tuiCell"],["tuiTd",""],["class","tag",3,"value",4,"ngFor","ngForOf"],[1,"tag",3,"value"],["tuiTd","",1,"action-buttons-row"],["icon","tuiIconEdit","appearance","secondary","tuiIconButton","","size","xs",1,"action-button","edit",3,"click"],["icon","tuiIconTrash2","tuiIconButton","","appearance","secondary","size","xs",1,"action-button","delete",3,"click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return r.createNote()}),t._uU(3," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443 "),t.qZA(),t.TgZ(4,"span"),t._uU(5," *\u0414\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430 \u043a \u0437\u0430\u043c\u0435\u0442\u043a\u0435 \u0434\u0432\u0430\u0436\u0434\u044b \u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043f\u043e \u0435\u0451 \u0441\u0442\u0440\u043e\u043a\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435"),t.qZA()(),t.TgZ(6,"table",3)(7,"thead",4)(8,"tr",5),t.YNc(9,_e,3,2,"ng-container",6),t.qZA()(),t.YNc(10,Oe,2,2,"tbody",7),t.ALo(11,"async"),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("size","s"),t.xp6(4),t.Q6J("columns",r.columns),t.xp6(3),t.Q6J("ngForOf",r.columns),t.xp6(1),t.Q6J("ngIf",t.lcZ(11,4,r.notes$)))},dependencies:[u.sg,u.O5,h,dt,ue,Z,ut,lt,it,P.v0,w.Gi,u.Ov],styles:[".notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:2rem}.top-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.top-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.create-note-button[_ngcontent-%COMP%]{width:10rem;margin-bottom:1rem}.table-head[_ngcontent-%COMP%]{color:#13daae;--tui-text-02: black}.notes-table[_ngcontent-%COMP%]{background-color:#d9e9f6}.action-buttons-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}td[_ngcontent-%COMP%]{color:#000}.tag[_ngcontent-%COMP%]{margin-right:1rem;background-image:linear-gradient(60deg,#09cc7b 0%,#09cc7b 100%)}.edit[_ngcontent-%COMP%]{--tui-link: #09cc7b}"]})}return n})();class ht{constructor(){this.id=0,this.title="",this.text="",this.notifyTime="",this.tags=[]}}var x=s(1210),Pe=s(1500),Ie=s(9407),we=s(3750);const De=function(n){return{selected:n}};function ke(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tui-tag",4),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selectTag(a))}),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw();t.Q6J("value",e.value)("ngClass",t.VKq(2,De,o.isTagSelected(e)))}}let Ae=(()=>{class n{constructor(e,o){this.tagsManager=e,this.context=o,this.selectedTags=[],this.tags$=this.tagsManager.getTags().pipe((0,C.w)(r=>r.subject))}ngOnInit(){this.selectedTags.push(...this.context.data)}selectTag(e){this.isTagSelected(e)?this.selectedTags.splice(this.selectedTags.findIndex(o=>o.id===e.id),1):this.selectedTags.push(e)}addSelected(){this.context.completeWith(this.selectedTags)}isTagSelected(e){return!!this.selectedTags.find(o=>o.id===e.id)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(we.Q),t.Y36(_.yf))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-tags-dialog"]],decls:6,vars:3,consts:[[1,"container"],[1,"tags"],["size","l","class","tag",3,"value","ngClass","click",4,"ngFor","ngForOf"],["tuiButton","",1,"save-button",3,"click"],["size","l",1,"tag",3,"value","ngClass","click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ke,1,4,"tui-tag",2),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return r.addSelected()}),t._uU(5,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,1,r.tags$)))},dependencies:[u.mk,u.sg,w.Gi,P.v0,u.Ov],styles:[".tag[_ngcontent-%COMP%]{--tui-base-01: #09cc7b;--tui-text-01: black;color:var(--tui-text-01-night);margin:.25rem;cursor:pointer}.selected[_ngcontent-%COMP%]{background-image:linear-gradient(60deg,#09cc7b 0%,#09cc7b 100%)}.save-button[_ngcontent-%COMP%]{width:50%;align-self:center}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;gap:1rem}"],changeDetection:0})}return n})();var J=s(6062),Y=s(1833),_t=s(4284),Fe=s(756),mt=s(2918),ft=s(167),vt=s(1713),$=s(5125),ze=s(9259),Ne=s(9315);const Se=["focusableElement"];function Ee(n,i){1&n&&t.GkF(0)}function Be(n,i){if(1&n&&(t.TgZ(0,"div",19),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",e.value.length,"/",e.maxLength," ")}}function Re(n,i){if(1&n&&(t.TgZ(0,"div",20),t.Hsn(1,1),t.qZA()),2&n){const e=t.oxw();t.ekj("t-placeholder_raised",e.placeholderRaised)}}function Ze(n,i){1&n&&t._UZ(0,"tui-svg",23),2&n&&t.Q6J("src",i.polymorpheusOutlet)}const O=function(n){return{$implicit:n}};function Qe(n,i){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,Ze,1,1,"tui-svg",22),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",e.iconLeftContent)("polymorpheusOutletContext",t.VKq(2,O,e.size))}}function Ue(n,i){1&n&&t._UZ(0,"tui-svg",25),2&n&&t.Q6J("src",i.polymorpheusOutlet)}function Je(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ue,1,1,"tui-svg",24),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",e.controller.customContent)}}function Ye(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tui-svg",27),t.NdJ("click.stop",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onValueChange(""))}),t.qZA()}2&n&&t.Q6J("src",i.polymorpheusOutlet)}function $e(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ye,1,1,"tui-svg",26),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",e.iconCleaner)("polymorpheusOutletContext",t.VKq(2,O,e.size))}}function Le(n,i){if(1&n&&t._UZ(0,"tui-tooltip",28),2&n){const e=t.oxw();t.Q6J("content",null==e.hintOptions?null:e.hintOptions.content)("describeId",e.id)}}function je(n,i){1&n&&t._UZ(0,"tui-svg",23),2&n&&t.Q6J("src",i.polymorpheusOutlet)}function He(n,i){if(1&n&&(t.TgZ(0,"div",29),t.YNc(1,je,1,1,"tui-svg",22),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("polymorpheusOutlet",e.iconContent)("polymorpheusOutletContext",t.VKq(2,O,e.size))}}const Ve=[[["textarea"]],"*"],Ge=["textarea","*"];let on=(()=>{class n extends N.M${constructor(e,o,r,a,c,l){super(e,o),this.isIOS=r,this.mode$=a,this.controller=c,this.hintOptions=l,this.rows=20,this.maxLength=null,this.expandable=!1}get labelOutside(){return this.controller.labelOutside}get nativeFocusableElement(){var e,o;return this.computedDisabled?null:(null===(e=this.textfield)||void 0===e?void 0:e.nativeElement)||(null===(o=this.focusableElement)||void 0===o?void 0:o.nativeElement)||null}get focused(){return(0,Fe.V8)(this.nativeFocusableElement)}get appearance(){return this.controller.appearance}get size(){return this.controller.size}get borderStart(){return this.iconLeftContent?$.iQ[this.size]:0}get borderEnd(){return(0,X._X)(!!this.iconContent,this.hasCleaner,this.hasTooltip,this.hasCustomContent,this.size)}get hasCleaner(){return this.controller.cleaner&&this.hasValue&&this.interactive}get hasTooltip(){var e;return!(null===(e=this.hintOptions)||void 0===e||!e.content)&&(this.controller.options.hintOnDisabled||!this.computedDisabled)}get hasValue(){return""!==this.value}get hasCounter(){return!!this.maxLength&&this.interactive}get hasPlaceholder(){return this.placeholderRaisable||!this.hasValue&&!this.hasExampleText}get hasCustomContent(){return!!this.controller.customContent}get iconLeftContent(){return this.controller.iconLeft}get iconContent(){return this.controller.icon}get iconCleaner(){return this.controller.options.iconCleaner}get hasExampleText(){var e;return!(null===(e=this.textfield)||void 0===e||!e.nativeElement.placeholder)&&this.focused&&!this.hasValue&&!this.readOnly}get computeMaxHeight(){return this.expandable?this.rows*this.lineHeight:null}get placeholderRaised(){return this.placeholderRaisable&&(this.computedFocused&&!this.readOnly||this.hasValue)}get fittedContent(){return this.value.slice(0,this.maxLength||1/0)}get extraContent(){return this.value.slice(this.maxLength||1/0)}onFocused(e){this.updateFocused(e)}onValueChange(e){this.value=e}onMouseDown(e){e.target!==this.nativeFocusableElement&&(e.preventDefault(),this.nativeFocusableElement&&this.nativeFocusableElement.focus())}getFallbackValue(){return""}get lineHeight(){return"m"===this.controller.size?20:24}get placeholderRaisable(){return"s"!==this.size&&!this.controller.labelOutside}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.a5,10),t.Y36(t.sBO),t.Y36(mt.FA),t.Y36(y.Au),t.Y36(v.Cs),t.Y36(ze.bZ,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tui-textarea"]],contentQueries:function(e,o,r){if(1&e&&t.Suo(r,$.MB,5,t.SBq),2&e){let a;t.iGM(a=t.CRH())&&(o.textfield=a.first)}},viewQuery:function(e,o){if(1&e&&t.Gf(Se,5),2&e){let r;t.iGM(r=t.CRH())&&(o.focusableElement=r.first)}},hostVars:17,hostBindings:function(e,o){1&e&&t.NdJ("$.data-mode.attr",function(){return o.mode$})("focusin",function(){return o.onFocused(!0)})("focusout",function(){return o.onFocused(!1)}),2&e&&(t.uIk("data-size",o.size),t.Udp("--border-start",o.borderStart,"rem")("--border-end",o.borderEnd,"rem"),t.ekj("_ios",o.isIOS)("_expandable",o.expandable)("_label-outside",o.labelOutside)("_has-tooltip",o.hasTooltip)("_has-value",o.hasValue)("_has-counter",o.hasCounter))},inputs:{rows:"rows",maxLength:"maxLength",expandable:"expandable"},features:[t._Bn([(0,mt.FT)(n),(0,N.wB)(n),v.Y0,E.CV]),t.qOj],ngContentSelectors:Ge,decls:23,vars:25,consts:[[4,"ngIf"],["automation-id","tui-text-area__wrapper","tuiWrapper","",1,"t-outline",3,"appearance","disabled","focus","hover","invalid","readOnly"],["automation-id","tui-text-area__counter","class","t-counter",4,"ngIf"],[1,"t-content",3,"mousedown"],[1,"t-wrapper"],["automation-id","tui-text-area__placeholder","class","t-placeholder",3,"t-placeholder_raised",4,"ngIf"],["automation-id","tui-text-area__scrollbar",1,"t-box"],[1,"t-input-wrapper"],[1,"t-relative"],["aria-hidden","true",1,"t-pseudo-content"],[3,"textContent"],[1,"t-pseudo-content__extra",3,"textContent"],[1,"t-caret"],["automation-id","tui-text-area__native",1,"t-input",3,"disabled","id","readOnly","tuiFocusable","ngModel","ngModelChange"],["focusableElement",""],[1,"t-icons"],["class","t-icon t-icon_left t-textfield-icon",4,"ngIf"],["automation-id","tui-text-area__tooltip",3,"content","describeId",4,"ngIf"],["class","t-icon t-textfield-icon",4,"ngIf"],["automation-id","tui-text-area__counter",1,"t-counter"],["automation-id","tui-text-area__placeholder",1,"t-placeholder"],[1,"t-icon","t-icon_left","t-textfield-icon"],["appearance","icon","tuiWrapper","",3,"src",4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","tuiWrapper","",3,"src"],[3,"src",4,"polymorpheusOutlet"],[3,"src"],["appearance","icon","tuiWrapper","","class","t-cleaner",3,"src","click.stop",4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","tuiWrapper","",1,"t-cleaner",3,"src","click.stop"],["automation-id","tui-text-area__tooltip",3,"content","describeId"],[1,"t-icon","t-textfield-icon"]],template:function(e,o){1&e&&(t.F$t(Ve),t.YNc(0,Ee,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.YNc(3,Be,2,2,"div",2),t.TgZ(4,"label",3),t.NdJ("mousedown",function(a){return o.onMouseDown(a)}),t.TgZ(5,"div",4),t.YNc(6,Re,2,2,"div",5),t.TgZ(7,"tui-scrollbar",6)(8,"div",7)(9,"div",8)(10,"div",9),t._UZ(11,"span",10)(12,"span",11)(13,"span",12),t.qZA(),t.TgZ(14,"textarea",13,14),t.NdJ("ngModelChange",function(a){return o.value=a}),t.qZA(),t.Hsn(16),t.qZA()()()(),t.TgZ(17,"div",15),t.YNc(18,Qe,2,4,"div",16),t.YNc(19,Je,2,1,"ng-container",0),t.YNc(20,$e,2,4,"ng-container",0),t.YNc(21,Le,1,2,"tui-tooltip",17),t.YNc(22,He,2,4,"div",18),t.qZA()()()),2&e&&(t.Q6J("ngIf",t.lcZ(1,23,null==o.hintOptions?null:o.hintOptions.change$)),t.xp6(2),t.Q6J("appearance",o.appearance)("disabled",o.disabled)("focus",o.computedFocused)("hover",o.pseudoHover)("invalid",o.computedInvalid)("readOnly",o.readOnly),t.xp6(1),t.Q6J("ngIf",o.hasCounter),t.xp6(3),t.Q6J("ngIf",o.hasPlaceholder),t.xp6(1),t.Udp("max-height",o.computeMaxHeight,"px"),t.xp6(4),t.Q6J("textContent",o.fittedContent||(null==o.nativeFocusableElement?null:o.nativeFocusableElement.placeholder)),t.xp6(1),t.Q6J("textContent",o.extraContent),t.xp6(2),t.Q6J("disabled",o.computedDisabled)("id",o.id)("readOnly",o.readOnly)("tuiFocusable",o.computedFocusable)("ngModel",o.value),t.xp6(4),t.Q6J("ngIf",o.iconLeftContent),t.xp6(1),t.Q6J("ngIf",o.hasCustomContent),t.xp6(1),t.Q6J("ngIf",o.hasCleaner),t.xp6(1),t.Q6J("ngIf",o.hasTooltip),t.xp6(1),t.Q6J("ngIf",o.iconContent))},dependencies:[A.IB,f.PN,ft.w,u.O5,vt.o,d.Fj,_t.t,d.JJ,d.On,_.Li,u.Ov],styles:["[_nghost-%COMP%]{position:relative;z-index:0;display:flex;flex-direction:column;min-height:var(--tui-textarea-height);border-radius:var(--tui-radius-m);color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-size=s][_nghost-%COMP%]{--tui-height: var(--tui-height-s);--tui-textarea-height: 4.5625rem;font:var(--tui-font-text-s)}[data-size=m][_nghost-%COMP%]{--tui-height: var(--tui-height-m);--tui-textarea-height: 5.5rem;font:var(--tui-font-text-s)}[data-size=l][_nghost-%COMP%]{--tui-height: var(--tui-height-l);--tui-textarea-height: 6.75rem;font:var(--tui-font-text-m)}[data-size=m]._has-counter[_nghost-%COMP%]{--tui-textarea-height: 6.625rem}[data-size=l]._has-counter[_nghost-%COMP%]{--tui-textarea-height: 7.875rem}.t-outline[_ngcontent-%COMP%]{min-height:inherit}.t-content[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;min-height:inherit;box-sizing:border-box;overflow:hidden;cursor:text}._disabled[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{cursor:auto;opacity:var(--tui-disabled-opacity)}[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:1px;right:0;min-height:auto}._has-counter[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{bottom:1.6875rem}._label-outside._has-counter[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{bottom:1rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:inherit;box-sizing:border-box;padding:calc((var(--tui-height) - 1.25rem) / 2) 0}[data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 1.5rem) / 2) 0}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 2.25rem) / 2) 0}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 2.625rem) / 2) 0}table[data-size=m]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], table   [data-size=m]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding-bottom:.75rem}table[data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], table   [data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding-bottom:1rem}.t-input-wrapper[_ngcontent-%COMP%]{min-height:inherit;width:100%;flex:1}.t-relative[_ngcontent-%COMP%]{position:relative;min-height:inherit}.t-box[_ngcontent-%COMP%]{display:flex;min-height:calc(100% - 1rem);width:100%}[_nghost-%COMP%]:not(._expandable)   .t-box[_ngcontent-%COMP%]{height:calc(100% - 1rem)}[_nghost-%COMP%]:not(._expandable)._label-outside   .t-box[_ngcontent-%COMP%]{height:100%}._has-counter._expandable[_nghost-%COMP%]   .t-box[_ngcontent-%COMP%]{margin-bottom:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-box[_ngcontent-%COMP%]{border-top:1rem solid transparent}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-box[_ngcontent-%COMP%]{border-top:1.25rem solid transparent}.t-pseudo-content[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;pointer-events:none;color:transparent;overflow:hidden;border:solid transparent;border-top:0;border-bottom:0;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0)}[data-size=s][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=l][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%]{padding:0 1rem}.t-pseudo-content__extra[_ngcontent-%COMP%]{background-color:var(--tui-error-bg-night)}.t-input[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;resize:none;overflow:hidden;outline:none;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0)}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}.t-input[_ngcontent-%COMP%]:not(:last-of-type){display:none}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03);opacity:0}[data-mode=onDark][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03-night)}._focused[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:not(:-moz-read-only)::placeholder{opacity:1}._focused[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:not(:read-only)::placeholder{opacity:1}[data-size=s][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=l][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 1rem}[data-mode=onDark]._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}@supports (-webkit-marquee-repetition: infinite) and (object-fit: fill){._ios[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding-left:.8125rem}}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-02);pointer-events:none;will-change:transform;transform:translateY(0);position:absolute;top:calc(var(--tui-height) / 2 - .625rem);left:0;max-width:100%;border:solid transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);box-sizing:border-box}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}._invalid[_nghost-%COMP%]:not(._focused)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}._focused[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size=s][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=m][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 1rem}._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{overflow:initial;height:auto;white-space:initial}.t-icons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;display:flex;justify-content:flex-end;pointer-events:none;padding:calc((var(--tui-height) - 1.5rem) / 2) 1rem}[data-size=m][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 1.5rem) / 2) .625rem}.t-icons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){-webkit-margin-start:.25rem;margin-inline-start:.25rem}.t-icon[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none}.t-icon_left[_ngcontent-%COMP%]{-webkit-margin-end:auto;margin-inline-end:auto}.t-cleaner[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto}._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}.t-caret[_ngcontent-%COMP%]{display:inline-block;height:1rem;width:0}.t-counter[_ngcontent-%COMP%]{position:absolute;right:.75rem;bottom:.5rem;font:var(--tui-font-text-s);pointer-events:none;margin-top:auto;text-align:right;color:var(--tui-text-03)}[data-mode=onDark][_nghost-%COMP%]   .t-counter[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}"],changeDetection:0}),n})(),rn=(()=>{class n extends Ne.D1{onValueChange(e){this.host.onValueChange(e)}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["tui-textarea"]],features:[t._Bn([(0,y.cp)(n)]),t.qOj]}),n})(),an=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,d.u5,_t.u,A.Jy,ft.Q,vt.W,f.EI,$.KW,_.wq]]}),n})();function sn(n,i){1&n&&t._UZ(0,"tui-tag",13),2&n&&t.Q6J("value",i.$implicit.value)}const cn=function(n,i){return[n,i]};let un=(()=>{class n{constructor(e,o,r,a,c,l){this.route=e,this.router=o,this.fb=r,this.notesManager=a,this.dialogs=c,this.injector=l,this.destroyRef=(0,t.f3M)(t.ktI),this.defaultDate=x.TU.currentLocal(),this.defaultTime=new x.qD(x.qD.currentLocal().hours,x.qD.currentLocal().minutes),this.noteId=0}ngOnInit(){this.route.data.pipe((0,g.U)(({data:e})=>e),(0,I.sL)(this.destroyRef)).subscribe(e=>{e.notifyTime&&(this.defaultDate=x.TU.normalizeParse(e.notifyTime.split(" ")[0],"DMY"),this.defaultTime=x.qD.fromString(e.notifyTime.split(" ")[1])),this.noteId=e.id,this.noteForm=this.fb.group({title:new d.NI(e.title,[d.kI.required]),text:new d.NI(e.text,[d.kI.required]),notifyTime:new d.NI([this.defaultDate,this.defaultTime],(0,Pe.m)()),tags:new d.NI(e.tags)})})}createNote(){if(this.noteForm.valid){const e=new ht;e.id=this.noteId?this.noteId:e.id,e.title=this.noteForm.value.title,e.text=this.noteForm.value.text,e.notifyTime=(this.noteForm.value.notifyTime?.[0]).toString()+" "+(this.noteForm.value.notifyTime?.[1]).toString(),e.tags=this.noteForm.value.tags,this.notesManager.postNote(e).pipe((0,I.sL)(this.destroyRef)).subscribe(()=>this.goBack())}}goBack(){this.router.navigate(["notes"])}addTags(){this.dialogs.open(new _.Al(Ae,this.injector),{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0433\u0438",data:this.noteForm.controls.tags.value,dismissible:!1,closeable:!1,size:"l"}).pipe((0,I.sL)(this.destroyRef)).subscribe(e=>{this.noteForm.controls.tags.setValue(e)})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(m.gz),t.Y36(m.F0),t.Y36(d.qu),t.Y36(T),t.Y36(Ie.RO),t.Y36(t.zs3))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-note-redactor"]],decls:21,vars:8,consts:[[1,"note-create-container",3,"formGroup"],["tuiButton","","appearance","accent",1,"back",3,"size","click"],[1,"note-create-body"],[1,"note-create-text"],["formControlName","title"],["formControlName","text",1,"textfield"],[1,"note-create-other"],["formControlName","notifyTime",3,"min"],[1,"tags-container"],["tuiButton","",1,"add-tags-button",3,"click"],[1,"tags-list"],["class","tag",3,"value",4,"ngFor","ngForOf"],["tuiButton","",1,"note-create-button",3,"size","click"],[1,"tag",3,"value"]],template:function(o,r){1&o&&(t.TgZ(0,"form",0)(1,"button",1),t.NdJ("click",function(){return r.goBack()}),t._uU(2,"\u041d\u0430\u0437\u0430\u0434"),t.qZA(),t.TgZ(3,"h1"),t._uU(4," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438 "),t.qZA(),t.TgZ(5,"div",2)(6,"div",3)(7,"tui-input",4),t._uU(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(9,"tui-textarea",5),t._uU(10,"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),t.qZA()(),t.TgZ(11,"div",6)(12,"tui-input-date-time",7),t._uU(13,"\u0421\u0440\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),t.qZA(),t.TgZ(14,"div",8)(15,"button",9),t.NdJ("click",function(){return r.addTags()}),t._uU(16,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0435\u0433\u0438"),t.qZA(),t.TgZ(17,"div",10),t.YNc(18,sn,1,1,"tui-tag",11),t.qZA()()()(),t.TgZ(19,"button",12),t.NdJ("click",function(){return r.createNote()}),t._uU(20,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),t.qZA()()),2&o&&(t.Q6J("formGroup",r.noteForm),t.xp6(1),t.Q6J("size","m"),t.xp6(11),t.Q6J("min",t.WLB(5,cn,r.defaultDate,r.defaultTime)),t.xp6(6),t.Q6J("ngForOf",r.noteForm.controls.tags.value),t.xp6(1),t.Q6J("size","l"))},dependencies:[u.sg,P.v0,d._Y,d.JJ,d.JL,d.sg,d.u,J.uF,J.c7,Y.K3,Y.wU,on,rn,w.Gi],styles:[".note-create-container[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;display:flex;flex-direction:column;gap:2rem}.note-create-body[_ngcontent-%COMP%]{color:#000;--tui-text-01: black;--tui-text-02: black;width:100%;display:flex;flex-direction:row;gap:2rem}.note-create-text[_ngcontent-%COMP%]{width:70%;display:flex;flex-direction:column;gap:2rem}.note-create-date[_ngcontent-%COMP%]{width:30%}.note-create-button[_ngcontent-%COMP%]{width:10rem;align-self:flex-end;justify-self:flex-end}.textfield[_ngcontent-%COMP%]{height:20rem}.back[_ngcontent-%COMP%]{width:8rem}.note-create-other[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;width:30%}.tags-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.add-tags-button[_ngcontent-%COMP%]{align-self:center;width:30%}.tags-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;flex-wrap:wrap}.tag[_ngcontent-%COMP%]{background-image:linear-gradient(60deg,#09cc7b 0%,#09cc7b 100%)}"],changeDetection:0})}return n})();function dn(n,i){1&n&&t._UZ(0,"tui-tag",9),2&n&&t.Q6J("value",i.$implicit.value)}function pn(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",3),t.YNc(2,dn,1,1,"tui-tag",4),t.qZA(),t.TgZ(3,"div",5)(4,"div",6)(5,"h1"),t._uU(6),t.qZA(),t.TgZ(7,"tui-scrollbar")(8,"p",7),t._uU(9),t.qZA()()(),t.TgZ(10,"div",8)(11,"h1"),t._uU(12," \u0414\u0430\u0442\u0430 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f "),t.qZA(),t.TgZ(13,"span"),t._uU(14),t.qZA()()(),t.BQk()),2&n){const e=i.ngIf;t.xp6(2),t.Q6J("ngForOf",e.tags),t.xp6(4),t.Oqu(e.title),t.xp6(3),t.hij("\xa0\xa0\xa0\xa0",e.text,""),t.xp6(5),t.Oqu(e.notifyTime)}}let gn=(()=>{class n{constructor(e,o){this.route=e,this.router=o,this.note$=this.route.data.pipe((0,g.U)(({data:r})=>r))}goBack(){this.router.navigate(["notes"])}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(m.gz),t.Y36(m.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-note"]],decls:5,vars:3,consts:[[1,"notes-container"],["tuiButton","","appearance","accent","size","m",1,"back",3,"click"],[4,"ngIf"],[1,"tags-list"],["class","tag",3,"value",4,"ngFor","ngForOf"],[1,"note-body"],[1,"note-text"],[1,"text-container"],[1,"note-time"],[1,"tag",3,"value"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return r.goBack()}),t._uU(2,"\u041d\u0430\u0437\u0430\u0434"),t.qZA(),t.YNc(3,pn,15,4,"ng-container",2),t.ALo(4,"async"),t.qZA()),2&o&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,1,r.note$)))},dependencies:[u.sg,u.O5,P.v0,w.Gi,A.IB,u.Ov],styles:[".back[_ngcontent-%COMP%]{align-self:flex-start}.notes-container[_ngcontent-%COMP%]{padding:3rem;display:flex;gap:2rem;flex-direction:column}.tags-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:1rem}.tag[_ngcontent-%COMP%]{background-image:linear-gradient(60deg,#09cc7b 0%,#09cc7b 100%)}.note-body[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;gap:2rem}.note-text[_ngcontent-%COMP%]{width:70%;max-height:25rem;display:flex;flex-direction:column}.text-container[_ngcontent-%COMP%]{color:#000;word-wrap:break-word;max-height:10%;padding:.8rem;font-size:16px}tui-scrollbar[_ngcontent-%COMP%]{--tui-text-01: black;height:25rem;width:100%;border:1px solid silver;border-radius:5px}.note-time[_ngcontent-%COMP%]{justify-self:center;width:30%}.note-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-size:24px}"]})}return n})();function Ct(n,i,e,o,r,a,c){try{var l=n[a](c),p=l.value}catch(F){return void e(F)}l.done?i(p):Promise.resolve(p).then(o,r)}var mn=s(6973),fn=s(305);const Cn=[{path:"",component:Me,resolve:{data:(n,i)=>(0,t.f3M)(T).getNotes()}},{path:"redactor",component:un,resolve:{data:(n,i)=>{const e=n.queryParams.new,o=parseInt(n.queryParams.id);if(e)return(0,pt.of)(new ht);const r=(0,t.f3M)(T);return r.notes$.value.find(c=>c.id===o)||r.getNote(o)}}},{path:"note/:noteId",component:gn,canActivate:[function(){var n=function _n(n){return function(){var i=this,e=arguments;return new Promise(function(o,r){var a=n.apply(i,e);function c(p){Ct(a,o,r,c,l,"next",p)}function l(p){Ct(a,o,r,c,l,"throw",p)}c(void 0)})}}(function*(i,e){const o=(0,t.f3M)(T),r=parseInt(i.params.noteId);return!!o.notes$.value.find(l=>l.id===r)||(yield function vn(n,i){const e="object"==typeof i;return new Promise((o,r)=>{const a=new fn.Hp({next:c=>{o(c),a.unsubscribe()},error:r,complete:()=>{e?o(i.defaultValue):r(new mn.K)}});n.subscribe(a)})}(o.getNote(r)).then(l=>!!l))});return function(e,o){return n.apply(this,arguments)}}()],resolve:{data:(n,i)=>{const e=(0,t.f3M)(T),o=parseInt(n.params.noteId);return e.notes$.value.find(r=>r.id===o)}}}];let bn=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(Cn),m.Bz]})}return n})(),Tn=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[bn,u.ez,le,P.fN,f.EI,d.UX,J.DA,Y.Qf,an,w.d3,A.Jy]})}return n})()}}]);